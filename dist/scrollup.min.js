/*!
 * scrollup v3.0.0-dev
 * http://markgoodyear.com/labs/scrollup/
 * Copyright (c) Mark Goodyear — @markgdyr — http://markgoodyear.com
 * License: 
 */
!function(e,n){"function"==typeof define&&define.amd?define([],function(){return n()}):"object"==typeof exports?module.exports=n():e.ScrollUp=n()}(this,function(){"use strict";var e={};e.VERSION="3.0.0",e.settings={};var n,t,o,l,i,r,s,c,a=!0,u=!0,d=!1,m=!1,f={triggerTemplate:!1,triggerDownTemplate:!1,scrollDistance:400,scrollDistanceFromBottom:400,scrollThrottle:250,scrollDuration:500,scrollEasing:"linear",scrollTarget:!1,scrollElement:window,showTriggersOnInit:!1,classes:{init:"scrollup--init",show:"scrollup--show",hide:"scrollup--hide"},onInit:null,onDestroy:null,onShow:null,onHide:null,onTop:null},h=["querySelector"in document,"addEventListener"in window,"requestAnimationFrame"in window,"classList"in document.documentElement,!!Array.prototype.every],g=function(e){var n,t={},o=1,l=function(e){for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&("[object Object]"===Object.prototype.toString.call(e[n])?t[n]=g(t[n],e[n]):t[n]=e[n])};for(l(arguments[0]),o=1;o<arguments.length;o++){var i=arguments[o];l(i)}return t},p=function(e,n){var t,o,l,i=Date.now||function(){return(new Date).getTime()},r=null,s=0,c=function(){s=i(),r=null,l=e.apply(t,o),t=o=null};return function(){var a=i(),u=n-(a-s);return t=this,o=arguments,u<=0?(clearTimeout(r),r=null,s=a,l=e.apply(t,o),t=o=null):r||(r=setTimeout(c,u)),l}},w={linear:function(e,n,t,o){return t*e/o+n},easeInOutQuad:function(e,n,t,o){return e/=o/2,e<1?t/2*e*e+n:(e--,-t/2*(e*(e-2)-1)+n)},easeInOutCube:function(e,n,t,o){return e/=o/2,e<1?t/2*e*e*e+n:(e-=2,t/2*(e*e*e+2)+n)}},T=function(){var e=document.body,n=document.documentElement;return Math.max(e.scrollHeight,n.scrollHeight,e.offsetHeight,n.offsetHeight,e.clientHeight,n.clientHeight)},v=function(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},y=function(){return T()-window.innerHeight-v()},D=function(e){for(var n=0;e;)n+=e.offsetTop,e=e.offsetParent;return n},L=function(e){return e.every(Boolean)},E=function(){n=null,t=null,o=null,cancelAnimationFrame(l),i.onTop&&(i.onTop.call(r),i.onTop.call(s))},S=function(e){n||(n=e);var r=e-n,s=w[i.scrollEasing](r,t,-t+o,i.scrollDuration);window.scrollTo(0,s),r<i.scrollDuration?l=requestAnimationFrame(S):E()},H=function(){v()>i.scrollDistance?d||e.showUpTrigger():d&&e.hideUpTrigger();var n=y();n>i.scrollDistanceFromBottom?m||e.showDownTrigger():m&&e.hideDownTrigger()},I=function(){H()},b=function(e){e.preventDefault(),o=D(document.querySelector(i.scrollTarget))||0,t=v(),l=requestAnimationFrame(S)},O=function(e){e.preventDefault(),o=T()-window.innerHeight,t=v(),l=requestAnimationFrame(S)},q=function(e){var n=document.createElement("div");n.innerHTML=e;var t=n.firstChild;return document.body.appendChild(t)};return e.cutsTheMustard=L(h),e.init=function(n,t){e.cutsTheMustard&&(e.destroy(),"object"==typeof n&&(t=n),e.settings=i=g(f,t||{}),r=i.triggerTemplate?q(i.triggerTemplate):document.querySelector(n),s=i.triggerDownTemplate?q(i.triggerDownTemplate):document.querySelector(n),c=p(I,i.scrollThrottle),i.scrollElement.addEventListener("scroll",c,!1),r.addEventListener("click",b,!1),s.addEventListener("click",O,!1),i.onInit&&(i.onInit.call(r),i.onInit.call(s)),i.showTriggersOnInit&&H())},e.showUpTrigger=function(){a&&e.handleInitialStateUp(),r.classList.contains(i.classes.hide)&&r.classList.remove(i.classes.hide),r.classList.add(i.classes.show),d=!0,i.onShow&&i.onShow.call(r)},e.hideUpTrigger=function(){r.classList.contains(i.classes.show)&&r.classList.remove(i.classes.show),r.classList.add(i.classes.hide),d=!1,i.onHide&&i.onHide.call(r)},e.handleInitialStateUp=function(){r.classList.add(i.classes.init),a=!1},e.handleInitialStateDown=function(){s.classList.add(i.classes.init),u=!1},e.showDownTrigger=function(){u&&e.handleInitialStateDown(),s.classList.contains(i.classes.hide)&&s.classList.remove(i.classes.hide),s.classList.add(i.classes.show),m=!0,i.onShow&&i.onShow.call(s)},e.hideDownTrigger=function(){s.classList.contains(i.classes.show)&&s.classList.remove(i.classes.show),s.classList.add(i.classes.hide),m=!1,i.onHide&&i.onHide.call(s)},e.destroy=function(){i&&(i.scrollElement.removeEventListener("scroll",c),r.removeEventListener("click",b),s.removeEventListener("click",O),i.triggerTemplate&&r.parentNode.removeChild(r),i.triggerDownTemplate&&s.parentNode.removeChild(s),i.onDestroy&&(i.onDestroy.call(r),i.onDestroy.call(s)),a=!0,u=!0,d=!1,m=!1,n=null,t=null,o=null,l=null,i=null,r=null,s=null,c=null)},e});